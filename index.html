<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heromi - Trang h·ªçc li·ªáu mi·ªÖn ph√≠</title>
    <link rel="icon" type="image/x-icon" href="/assets/heromi.ico" >
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Add navbar so JS/CSS can show/hide it -->
    <header class="navbar" id="mainNavbar" role="navigation" aria-label="Main navigation">
        <div class="brand-title">Heromi</div>
        <nav class="navbar-links" id="navbarLinks" aria-hidden="true">
            <ul>
                <li><a href="#" onclick="showSection('bai-tap')">B√†i t·∫≠p</a></li>
                <li><a href="#" onclick="showSection('de-thi')">ƒê·ªÅ thi</a></li>
                <li><a href="#" onclick="showSection('ngan-hang-cau-hoi')">Ng√¢n h√†ng c√¢u h·ªèi</a></li>
                <li><a href="#" onclick="showSection('de-xuat-tinh-nang')">ƒê·ªÅ xu·∫•t</a></li>
                <li><a href="#" onclick="showSection('setting')">C√†i ƒë·∫∑t</a></li>
            </ul>
        </nav>
        <button class="toggle-button" id="navbarToggle" aria-label="Toggle navigation">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
    </header>

    <!-- N√∫t m·ªü sidebar (menu 3 g·∫°ch) -->
    <button id="sidebarToggleBtn" class="sidebar-toggle-btn" aria-label="M·ªü menu">&#9776;</button>
    <!-- Sidebar overlay -->
    <div class="sidebar-overlay" id="sidebaOverlay"></div>
        <!-- Sidebar popup -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header" style="display:flex; align-items:center; justify-content:space-between; padding: 12px 16px; border-bottom: 1px solid #ccc;">
            <div style="display:flex; align-items:center;">
                <div class="sidebar-logo" style="background: linear-gradient(135deg, #2a5298 100%, #2a5298 100%); border-radius: 50%; box-shadow: 0 2px 8px #1e3c7233; margin-right: 12px;">
                    <img src="/assets/logo.png" alt="Heromi" style="width:44px;height:44px;border-radius:50%;background:transparent;box-shadow:none;">
                </div>
                <span class="sidebar-title" style="font-weight:600; font-size:1.2rem; color:#ffffff;">Heromi</span>
            </div>
        </div>
        <ul class="sidebar-menu" style="list-style:none; padding:0; margin:0;">
            <li class="nav-item active" data-section="bai-tap" style="padding: 12px 20px; cursor:pointer; transition: background-color 0.3s;">
                <span class="nav-label" data-i18n="sidebar_baitap">B√†i t·∫≠p</span>
            </li>
            <li class="nav-item" data-section="de-thi" style="padding: 12px 20px; cursor:pointer; transition: background-color 0.3s;">
                <span class="nav-label" data-i18n="sidebar_dethi">ƒê·ªÅ thi</span>
            </li>
            <li class="nav-item" data-section="ngan-hang-cau-hoi" style="padding: 12px 20px; cursor:pointer; transition: background-color 0.3s;">
                <span class="nav-label" data-i18n="sidebar_nganhang">Ng√¢n h√†ng c√¢u h·ªèi</span>
            </li>
            <li class="nav-item" data-section="de-xuat-tinh-nang" style="padding: 12px 20px; cursor:pointer; transition: background-color 0.3s;">
                <span class="nav-label" data-i18n="sidebar_dexuat">ƒê·ªÅ xu·∫•t t√≠nh nƒÉng</span>
            </li>
            <li class="nav-item" data-section="setting" style="padding: 12px 20px; cursor:pointer; transition: background-color 0.3s;">
                <span class="nav-label" data-i18n="sidebar_setting">C√†i ƒë·∫∑t</span>
            </li>
        </ul>
    </nav>
    
    
    <!-- Page Sections -->
    <section id="dashboard" class="page-section">
        <div class="container">
            <div class="main-content">
                <!-- Header -->
                <div class="header">
                    <div class="header-left">
                        <h1 id="mainTitle" data-i18n="dashboard_title">Trang ch·ªß</h1>
                    </div>
                    <div class="header-right">
                        <a href="#" class="btn btn-primary" id="loginBtn" data-i18n="loginBtn">ƒêƒÉng nh·∫≠p</a>
                        <a href="#" class="btn btn-secondary" id="registerBtn" data-i18n="registerBtn">ƒêƒÉng k√Ω</a>
                        <div class="user-profile" style="display:none" id="userProfile">
                            <div class="user-avatar" id="userAvatar">H</div>
                            <div class="user-info" id="userInfo">
                                <!-- Th√¥ng tin user s·∫Ω ƒë∆∞·ª£c th√™m ƒë·ªông -->
                            </div>
                            <div class="user-fullname" id="userFullname"></div>
                            <div class="user-history" id="userHistory"></div>
                            <button onclick="logoutUser()" class="btn btn-secondary" style="margin-left:10px">ƒêƒÉng xu·∫•t</button>
                        </div>
                    </div>
                </div>
                <!-- Dashboard Grid -->
                <div class="dashboard-grid" id="dashboardGrid">
                    <div class="card" onclick="navigateToSection('bai-tap')">
                        <div class="card-icon">üìù</div>
                        <h3 data-i18n="card_baitap_title">B√†i t·∫≠p</h3>
                        <p data-i18n="card_baitap_desc">Qu·∫£n l√Ω v√† t·∫°o b√†i t·∫≠p cho h·ªçc sinh</p>
                        <!-- Form upload ch·ªâ cho gi√°o vi√™n, ·∫©n m·∫∑c ƒë·ªãnh, hi·ªÉn th·ªã b·∫±ng JS n·∫øu ƒë√∫ng quy·ªÅn -->
                        <form id="baitapUploadForm" style="display:none; margin-top:18px;">
                            <input type="file" id="baitapFile" accept=".pdf,.doc,.docx" style="margin-bottom:8px;">
                            <button type="submit" class="btn btn-primary" style="width:auto;">T·∫£i l√™n b√†i t·∫≠p</button>
                        </form>
                    </div>
                    <div class="card" onclick="navigateToSection('de-thi')">
                        <div class="card-icon">üìã</div>
                        <h3 data-i18n="card_dethi_title">ƒê·ªÅ thi</h3>
                        <p data-i18n="card_dethi_desc">T·∫°o v√† qu·∫£n l√Ω ƒë·ªÅ thi, ki·ªÉm tra</p>
                        <!-- Form upload ch·ªâ cho gi√°o vi√™n, ·∫©n m·∫∑c ƒë·ªãnh, hi·ªÉn th·ªã b·∫±ng JS n·∫øu ƒë√∫ng quy·ªÅn -->
                        <form id="dethiUploadForm" style="display:none; margin-top:18px;">
                            <input type="file" id="dethiFile" accept=".pdf,.doc,.docx" style="margin-bottom:8px;">
                            <button type="submit" class="btn btn-primary" style="width:auto;">T·∫£i l√™n ƒë·ªÅ thi</button>
                        </form>
                    </div>
                    <div class="card" onclick="navigateToSection('ngan-hang-cau-hoi')">
                        <div class="card-icon">üèõÔ∏è</div>
                        <h3 data-i18n="card_nganhang_title">Ng√¢n h√†ng c√¢u h·ªèi</h3>
                        <p data-i18n="card_nganhang_desc">B·ªô s∆∞u t·∫≠p c√¢u h·ªèi theo ch·ªß ƒë·ªÅ</p>
                    </div>
                    <div class="card" onclick="navigateToSection('de-xuat-tinh-nang')">
                        <div class="card-icon">‚ú®</div>
                        <h3 data-i18n="card_dexuat_title">ƒê·ªÅ xu·∫•t t√≠nh nƒÉng</h3>
                        <p data-i18n="card_dexuat_desc">G·ª£i √Ω t√≠nh nƒÉng m·ªõi cho h·ªá th·ªëng</p>
                        <div class="vip-badge" data-i18n="vip_badge">VIP</div>
                    </div>
                </div>
                <!-- Giao di·ªán t·ª´ng m·ª•c ch·ª©c nƒÉng -->
                <div class="section-content" id="section-bai-tap" style="display:none">
                    <button class="btn btn-secondary back-home-btn" style="margin-bottom:18px;">‚Üê Tr·ªü v·ªÅ trang ch·ªß</button>
                    <h2 data-i18n="card_baitap_title">B√†i t·∫≠p</h2>
                    <div style="margin-bottom:20px;">
                        <button class="btn btn-primary upload-btn" onclick="showUploadForm('baitap')" style="display:none;">
                            <span style="font-size:20px;">+</span> T·∫£i l√™n b√†i t·∫≠p m·ªõi
                        </button>
                    </div>
                    <div id="baitapUploadArea" class="upload-form" style="display:none;background:rgba(30,60,114,0.9);padding:20px;border-radius:12px;margin-bottom:20px;">
                        <h3 style="color:#fff;margin-bottom:15px;">T·∫£i l√™n b√†i t·∫≠p m·ªõi</h3>
                        <form id="baitapUploadForm" onsubmit="return handleBaiTapUpload(event)">
                            <div style="margin-bottom:15px;">
                                <input type="file" id="baitapFile" accept=".pdf,.doc,.docx" style="background:#fff;padding:8px;border-radius:6px;width:100%;">
                            </div>
                            <div style="margin-bottom:15px;">
                                <input type="text" placeholder="Ti√™u ƒë·ªÅ b√†i t·∫≠p" style="width:100%;padding:8px;border-radius:6px;">
                            </div>
                            <div style="margin-bottom:15px;">
                                <textarea placeholder="M√¥ t·∫£ b√†i t·∫≠p" style="width:100%;padding:8px;border-radius:6px;min-height:80px;"></textarea>
                            </button>
                            <button type="submit" class="btn btn-primary">T·∫£i l√™n</button>
                            <button type="button" class="btn btn-secondary" onclick="hideUploadForm('baitap')" style="margin-left:10px;">H·ªßy</button>
                        </form>
                    </div>
                    <div id="baitapList">
                        <!-- Danh s√°ch b√†i t·∫≠p s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                    </div>
                </div>
                <div class="section-content" id="section-de-thi" style="display:none">
                    <button class="btn btn-secondary back-home-btn" style="margin-bottom:18px;">‚Üê Tr·ªü v·ªÅ trang ch·ªß</button>
                    <h2 data-i18n="card_dethi_title">ƒê·ªÅ thi</h2>
                    <div style="margin-bottom:20px;">
                        <button class="btn btn-primary upload-btn" onclick="showUploadForm('dethi')" style="display:none;">
                            <span style="font-size:20px;">+</span> T·∫£i l√™n ƒë·ªÅ thi m·ªõi
                        </button>
                    </div>
                    <div id="dethiUploadArea" class="upload-form" style="display:none;background:rgba(30,60,114,0.9);padding:20px;border-radius:12px;margin-bottom:20px;">
                        <h3 style="color:#fff;margin-bottom:15px;">T·∫£i l√™n ƒë·ªÅ thi m·ªõi</h3>
                        <form id="dethiUploadForm" onsubmit="return handleDeThiUpload(event)">
                            <div style="margin-bottom:15px;">
                                <input type="file" id="dethiFile" accept=".pdf,.doc,.docx" style="background:#fff;padding:8px;border-radius:6px;width:100%;">
                            </div>
                            <div style="margin-bottom:15px;">
                                <input type="text" placeholder="Ti√™u ƒë·ªÅ ƒë·ªÅ thi" style="width:100%;padding:8px;border-radius:6px;">
                            </div>
                            <div style="margin-bottom:15px;">
                                <textarea placeholder="M√¥ t·∫£ ƒë·ªÅ thi" style="width:100%;padding:8px;border-radius:6px;min-height:80px;"></textarea>
                            </button>
                            <button type="submit" class="btn btn-primary">T·∫£i l√™n</button>
                            <button type="button" class="btn btn-secondary" onclick="hideUploadForm('dethi')" style="margin-left:10px;">H·ªßy</button>
                        </form>
                    </div>
                    <div id="dethiList">
                        <!-- Danh s√°ch ƒë·ªÅ thi s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                    </div>
                </div>
                <div class="section-content" id="section-ngan-hang-cau-hoi" style="display:none">
                    <button class="btn btn-secondary back-home-btn" style="margin-bottom:18px;">‚Üê Tr·ªü v·ªÅ trang ch·ªß</button>
                    <h2 data-i18n="card_nganhang_title">Ng√¢n h√†ng c√¢u h·ªèi</h2>
                    <!-- N·ªôi dung ng√¢n h√†ng c√¢u h·ªèi -->
                </div>
                <div class="section-content" id="section-de-xuat-tinh-nang" style="display:none">
                    <button class="btn btn-secondary back-home-btn" style="margin-bottom:18px;">‚Üê Tr·ªü v·ªÅ trang ch·ªß</button>
                    <h2 data-i18n="card_dexuat_title">ƒê·ªÅ xu·∫•t t√≠nh nƒÉng</h2>
                    <!-- N·ªôi dung ƒë·ªÅ xu·∫•t t√≠nh nƒÉng -->
                </div>
                <div class="section-content" id="section-setting" style="display:none">
                    <button class="btn btn-secondary back-home-btn" style="margin-bottom:18px;">‚Üê Tr·ªü v·ªÅ trang ch·ªß</button>
                    <h2 data-i18n="sidebar_setting">C√†i ƒë·∫∑t</h2>
                    <!-- N·ªôi dung c√†i ƒë·∫∑t -->
                </div>
            </div>
        </div>
    </section>
    
    <section id="baitap" class="page-section" style="display:none">
        <div class="container">
            <h2>B√†i T·∫≠p</h2>
            <p>ƒê√¢y l√† trang qu·∫£n l√Ω b√†i t·∫≠p. B·∫°n c√≥ th·ªÉ xem, t·∫°o m·ªõi ho·∫∑c qu·∫£n l√Ω c√°c b√†i t·∫≠p t·∫°i ƒë√¢y.</p>
            <!-- Th√™m n·ªôi dung b√†i t·∫≠p t·∫°i ƒë√¢y -->
        </div>
    </section>
    
    <section id="dethi" class="page-section" style="display:none">
        <div class="container">
            <h2>ƒê·ªÅ Thi</h2>
            <p>ƒê√¢y l√† trang qu·∫£n l√Ω ƒë·ªÅ thi. B·∫°n c√≥ th·ªÉ xem, t·∫°o m·ªõi ho·∫∑c qu·∫£n l√Ω c√°c ƒë·ªÅ thi t·∫°i ƒë√¢y.</p>
            <!-- Th√™m n·ªôi dung ƒë·ªÅ thi t·∫°i ƒë√¢y -->
        </div>
    </section>
    
    <!-- Popup ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup" id="loginPopup">
            <button class="close-btn" onclick="closePopup()">&times;</button>
            <div class="popup-header">
                <div class="popup-icon">üîê</div>
                <h2 data-i18n="login">ƒêƒÉng nh·∫≠p</h2>
                <p class="popup-desc" data-i18n="loginDesc">Ch√†o m·ª´ng b·∫°n quay l·∫°i! Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ ti·∫øp t·ª•c.</p>
            </div>
            <form id="loginForm" autocomplete="off" onsubmit="return handleLogin(event)">
                <label for="loginUsername" data-i18n="username">T√™n ƒëƒÉng nh·∫≠p</label>
                <input type="text" id="loginUsername" placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p" required>
                <label for="loginPassword" data-i18n="password">M·∫≠t kh·∫©u</label>
                <div class="input-password">
                    <input type="password" id="loginPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                    <span class="toggle-password" onclick="togglePassword('loginPassword', this)">üëÅÔ∏è</span>
                </div>
                <div class="error-msg" id="loginError"></div>
                <button class="btn btn-primary" type="submit" data-i18n="loginBtn">ƒêƒÉng nh·∫≠p</button>
            </form>
            <div class="switch-link" data-i18n="noAccount">
                Ch∆∞a c√≥ t√†i kho·∫£n? <a onclick="switchToRegister()" data-i18n="register">ƒêƒÉng k√Ω</a>
            </div>
        </div>
        <div class="popup" id="registerPopup" style="display:none">
            <button class="close-btn" onclick="closePopup()">&times;</button>
            <div class="popup-header">
                <div class="popup-icon">üìù</div>
                <h2 data-i18n="register">ƒêƒÉng k√Ω</h2>
                <p class="popup-desc" data-i18n="registerDesc">T·∫°o t√†i kho·∫£n m·ªõi ƒë·ªÉ s·ª≠ d·ª•ng c√°c t√≠nh nƒÉng c·ªßa h·ªá th·ªëng.</p>
            </div>
            <form id="registerForm" autocomplete="off" onsubmit="return handleRegister(event)">
                <label for="registerUsername" data-i18n="username">T√™n ƒëƒÉng nh·∫≠p</label>
                <input type="text" id="registerUsername" placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p" required>
                <label for="registerEmail" data-i18n="email">Email</label>
                <input type="email" id="registerEmail" placeholder="Nh·∫≠p email" required>
                <label for="registerPassword" data-i18n="password">M·∫≠t kh·∫©u</label>
                <div class="input-password">
                    <input type="password" id="registerPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                    <span class="toggle-password" onclick="togglePassword('registerPassword', this)">üëÅÔ∏è</span>
                </div>
                <label for="registerPassword2" data-i18n="password2">Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
                <div class="input-password">
                    <input type="password" id="registerPassword2" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u" required>
                    <span class="toggle-password" onclick="togglePassword('registerPassword2', this)">üëÅÔ∏è</span>
                </div>
                <div class="error-msg" id="registerError"></div>
                <button class="btn btn-secondary" type="submit" data-i18n="registerBtn">ƒêƒÉng k√Ω</button>
            </form>
            <div class="switch-link" data-i18n="haveAccount">
                ƒê√£ c√≥ t√†i kho·∫£n? <a onclick="switchToLogin()" data-i18n="login">ƒêƒÉng nh·∫≠p</a>
            </div>
        </div>
    </div> 
    
    <script src="main.js"></script>
    <script src="baitap.js"></script>
    <script src="dethi.js"></script>
    <script src="qlhs.js"></script>
    <script src="setting.js"></script>
    <script src="nhch.js"></script>
    <script src="js/nav.js"></script>
    <script>
    // Popup functions
    function openPopup(popupId) {
        document.getElementById('popupOverlay').style.display = 'flex';
        document.getElementById(popupId).style.display = 'block';
    }
    
    function closePopup() {
        document.getElementById('popupOverlay').style.display = 'none';
        document.getElementById('loginPopup').style.display = 'none';
        document.getElementById('registerPopup').style.display = 'none';
    }
    
    function switchToRegister() {
        document.getElementById('loginPopup').style.display = 'none';
        document.getElementById('registerPopup').style.display = 'block';
    }
    
    function switchToLogin() {
        document.getElementById('registerPopup').style.display = 'none';
        document.getElementById('loginPopup').style.display = 'block';
    }
    
    // Add event listeners to login/register buttons
    document.getElementById('loginBtn').addEventListener('click', function(e) {
        e.preventDefault();
        openPopup('loginPopup');
    });
    
    document.getElementById('registerBtn').addEventListener('click', function(e) {
        e.preventDefault();
        openPopup('registerPopup');
    });

    // Hi·ªÉn th·ªã form upload n·∫øu l√† gi√°o vi√™n
    window.addEventListener('DOMContentLoaded', function () {
        // Initialize sidebar
        autoHideSidebarOnMobile();
        window.addEventListener("resize", autoHideSidebarOnMobile);
        
        // Initialize popups
        document.querySelectorAll('.back-home-btn').forEach(btn => {
            btn.onclick = function() {
                showSection('');
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            };
        });
        
        // Check user role for upload forms
        if (window.currentUser && window.currentUser.role === 'Gi√°o vi√™n') {
            document.getElementById('baitapUploadForm').style.display = '';
            document.getElementById('dethiUploadForm').style.display = '';
            document.getElementById('qlhsUploadForm').style.display = '';
        }
        
        // Th√™m s·ª± ki·ªán cho c√°c n√∫t ƒëi·ªÅu h∆∞·ªõng trang
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // X√≥a active class t·ª´ t·∫•t c·∫£ c√°c n√∫t
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                // Th√™m active class cho n√∫t ƒë∆∞·ª£c click
                this.classList.add('active');
                
                // ·∫®n t·∫•t c·∫£ c√°c section
                document.querySelectorAll('.page-section').forEach(section => {
                    section.style.display = 'none';
                });
                
                // Hi·ªÉn th·ªã section t∆∞∆°ng ·ª©ng
                const pageId = this.getAttribute('data-page');
                document.getElementById(pageId).style.display = 'block';
            });
        });
    });

    // Khi ƒëƒÉng nh·∫≠p th√†nh c√¥ng c≈©ng c·∫ßn ki·ªÉm tra l·∫°i
    window.showUserProfile = (function (orig) {
        return function () {
            orig && orig();
            if (window.currentUser && window.currentUser.role === 'Gi√°o vi√™n') {
                document.getElementById('baitapUploadForm').style.display = '';
                document.getElementById('dethiUploadForm').style.display = '';
                document.getElementById('qlhsUploadForm').style.display = '';
            } else {
                document.getElementById('baitapUploadForm').style.display = 'none';
                document.getElementById('dethiUploadForm').style.display = 'none';
                document.getElementById('qlhsUploadForm').style.display = 'none';
            }
        };
    })(window.showUserProfile);
    
    // ·∫®n/hi·ªán giao di·ªán t·ª´ng m·ª•c ch·ª©c nƒÉng
    function showSection(section) {
        // ·∫®n dashboard grid
        document.getElementById('dashboardGrid').style.display = section ? 'none' : '';
        // ·∫®n t·∫•t c·∫£ section-content
        document.querySelectorAll('.section-content').forEach(el => el.style.display = 'none');
        if (section) {
            const el = document.getElementById('section-' + section);
            if (el) el.style.display = '';
        }
    }
    
    // G·∫Øn l·∫°i s·ª± ki·ªán cho sidebar/card
    document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', function() {
            const section = this.getAttribute('data-section');
            showSection(section);
        });
    });
    
    document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', function(e) {
            const section = this.getAttribute('onclick').match(/'([^']+)'/)[1];
            showSection(section);
        });
    });
    
    // Khi load trang, hi·ªÉn th·ªã dashboard
    showSection('');
    
    // X·ª≠ l√Ω s·ª± ki·ªán cho n√∫t toggle sidebar (d√πng class, kh√¥ng d√πng style tr·ª±c ti·∫øp)
    function autoHideSidebarOnMobile() {
        if (window.innerWidth <= 768) {
            sidebar.classList.remove("sidebar-open");
            sidebarOverlay.classList.remove("active");
        }
    }

    function openSidebarMobile() {
        sidebar.classList.add("sidebar-open");
        sidebarOverlay.classList.add("active");
    }

    function closeSidebarMobile() {
        sidebar.classList.remove("sidebar-open");
        sidebarOverlay.classList.remove("active");
    }

    // Toggle khi nh·∫•n n√∫t menu
    sidebarToggleBtn.addEventListener("click", function () {
        if (sidebar.classList.contains("sidebar-open")) {
            closeSidebarMobile();
        } else {
            openSidebarMobile();
        }
    });

    // ƒê√≥ng khi b·∫•m ra ngo√†i
    sidebarOverlay.addEventListener("click", closeSidebarMobile);

    // ƒê√≥ng khi ch·ªçn menu (tr√™n mobile)
    document.querySelectorAll(".nav-item").forEach(item => {
        item.addEventListener("click", function () {
            if (window.innerWidth <= 768) closeSidebarMobile();
        });
    });
    </script>
    <script>
    function showUploadForm(type) {
        document.getElementById(type + 'UploadArea').style.display = 'block';
        document.querySelector(`#section-${type} .upload-btn`).style.display = 'none';
    }

    function hideUploadForm(type) {
        document.getElementById(type + 'UploadArea').style.display = 'none';
        document.querySelector(`#section-${type} .upload-btn`).style.display = 'block';
    }

    // Show upload buttons for teachers
    function updateUploadButtons() {
        // Ch·ªâ ki·ªÉm tra ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p, kh√¥ng c·∫ßn ki·ªÉm tra role
        const isLoggedIn = window.currentUser != null;
        document.querySelectorAll('.upload-btn').forEach(btn => {
            btn.style.display = isLoggedIn ? 'block' : 'none';
        });
    }

    // Update on page load and login/logout
    document.addEventListener('DOMContentLoaded', updateUploadButtons);
    if (typeof window.showUserProfile === 'function') {
        const orig = window.showUserProfile;
        window.showUserProfile = function() {
            orig();
            updateUploadButtons();
        };
    }
    </script>
    <script>
function togglePassword(inputId, toggler) {
    const input = document.getElementById(inputId);
    if (input.type === 'password') {
        input.type = 'text';
        toggler.textContent = 'üîí'; // Icon khi hi·ªán m·∫≠t kh·∫©u
        toggler.style.color = '#00d4ff'; // M√†u khi ƒëang hi·ªán
    } else {
        input.type = 'password';
        toggler.textContent = 'üëÅÔ∏è'; // Icon khi ·∫©n m·∫≠t kh·∫©u
        toggler.style.color = '#888'; // M√†u m·∫∑c ƒë·ªãnh
    }
}
</script>
</body>
</html>